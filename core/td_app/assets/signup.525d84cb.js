import{o as i,c as _,h as e,d as G,k as b,S as P,N as K,U as Z,V as te,n as R,W as se,u as a,i as V,a as s,w as c,T,F as B,y as E,t as h,X as le,Y as re,Z as de,j,_ as ne,$ as oe,K as J,r as F,l as z,a0 as Q}from"./vendor.92770e02.js";import{_ as ie,u as ce,S as ue,a as me}from"./index.fd7e8ecc.js";const _e={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},ve=e("path",{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46s46-20.595 46-46s-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",fill:"currentColor"},null,-1),pe=[ve];function fe(r,$){return i(),_("svg",_e,pe)}var he={name:"fa-solid-exclamation-circle",render:fe},be="/td_app/images/chip.png";const ee=r=>(re("data-v-10cb1eab"),r=r(),de(),r),ge={class:"card-item__side -front"},ye=["aria-label"],ke=["src"],Ce={class:"card-item__wrapper"},xe={class:"card-item__top"},Ve=ee(()=>e("img",{src:be,class:"card-item__chip",alt:"Card chip image"},null,-1)),$e={class:"card-item__type"},Fe=["src","alt"],Ne=["for"],Ie={key:0,class:"card-item__numberItem"},Me={class:"card-item__content"},we=["for"],Ye={class:"card-item__holder"},Pe={class:"card-item__name",key:"1"},je={class:"card-item__name",key:"2"},Se=["for"],Te=["for"],Be={key:"2"},Ee=j(" / "),Ue=["for"],De={key:"2"},Ae={class:"card-item__side -back"},Re=["aria-label"],ze=["src"],He=ee(()=>e("div",{class:"card-item__band"},null,-1)),Le={class:"card-item__cvv"},Oe=["for"],We={class:"card-item__cvvTitle"},qe={class:"card-item__cvvBand"},Xe={class:"card-item__type"},Ge=["src"],Ke=G({props:{valueFields:{type:Object,required:!0},inputFields:{type:Object,default:()=>({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"})},labels:{type:Object,default:()=>({cardName:"Full Name",cardHolder:"Card Holder",cardMonth:"MM",cardYear:"YY",cardExpires:"Expires",cardCvv:"CVV"})},isCardNumberMasked:{type:Boolean,default:!0},hasRandomBackgrounds:{type:Boolean,default:!0},backgroundImage:{type:[String,Number],default:""},setType:{type:String,default:""}},emits:["get-type"],setup(r,{emit:$}){const l=r,N="#### #### #### ####",C=b(null),y=b(null),u=b(!1),x=b(!1),p=b("#### ###### #####"),U=b("#### #### #### ###"),H=b("#### ###### ####"),S=b("###### ####### ######"),L=b(N),w=b(N),I=b({}),O=P(()=>{const d=l.valueFields.cardNumber.replace(/\s+/g,"");return d.startsWith("2131")||d.startsWith("1800")?U:N}),D=P(()=>`/td_app/images/${m.value}.png`),W=["visaelectron","visa","elo","amex","mastercard","discover","unionpay","troy","dinersclub","jcb","laser","dankort","uatp","mir","hipercard","aura","maestro"],m=P(()=>{var n,g;const d=(g=(n=l.setType)==null?void 0:n.toLowerCase())==null?void 0:g.replace(/ /g,"");if((d==null?void 0:d.length)&&Object.values(W).includes(d))return d;const v=l.valueFields.cardNumber.replace(/\s+/g,"");return v.match(/^4(026|17500|405|508|844|91[37])/)?"visaelectron":v.match(/^4\d{12}(\d{3})?$/)?"visa":v.match(/^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))/)?"elo":v.match(/^3[47]\d{13}$/)?"amex":v.match(/^(5[1-5]\d{4}|677189)\d{10}$/)?"mastercard":v.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/)?"discover":v.match(/^62[0-9]\d{14,17}$/)?"unionpay":v.match(/^9792\d{12}$/)?"troy":v.match(/^3(0[0-5]|[68]\d)\d{11,16}/)?"dinersclub":v.match(/(?:2131|1800|35[0-9]{3})[0-9]{11}$/)?"jcb":v.match(/^(6304|6706|6709|6771)[0-9]{12,15}$/)?"laser":v.match(/^5019\d{12}$/)?"dankort":v.match(/^1\d{14}$/)?"uatp":v.match(/^220[0-4]\d{12}$/)?"mir":v.match(/^(606282\d{10}(\d{3})?)|(3841\d{15})$/)?"hipercard":v.match(/^((?!504175))^((?!5067))(^50[0-9])/)?"aura":v.match(/(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15}$/)?"maestro":""}),o=P(()=>!l.hasRandomBackgrounds&&parseInt(l.backgroundImage)?"Image cover":""),k=P(()=>{const d=parseInt(l.backgroundImage);return Number.isFinite(d)&&d<26&&d>0}),f=P(()=>{const d=parseInt(l.backgroundImage);return k.value?`/td_app/images/${d}.jpg`:l.backgroundImage&&!Number.isFinite(d)?l.backgroundImage:l.hasRandomBackgrounds?`/td_app/images/${Math.floor(Math.random()*25+1)}.jpg`:null}),A=(d="addEventListener")=>{document.querySelectorAll("[data-card-field]").forEach(n=>{n[d]("focus",()=>{u.value=!0,n.id===l.inputFields.cardYear||n.id===l.inputFields.cardMonth?y.value="cardDate":y.value=n.id,x.value=n.id===l.inputFields.cardCvv}),n[d]("blur",()=>{x.value=!n.id===l.inputFields.cardCvv;const g=setTimeout(()=>{u.value||(y.value=null),clearTimeout(g)},300);u.value=!1})})},Y=()=>{const d=I.value[y.value||""];C.value=d?{width:`${d.offsetWidth}px`,height:`${d.offsetHeight}px`,transform:`translateX(${d.offsetLeft}px) translateY(${d.offsetTop}px)`}:null},q=(d,v)=>{const n=m.value==="amex"?13:14;return d<n&&l.valueFields.cardNumber.length>d&&v.trim()!==""&&l.isCardNumberMasked},M=()=>{const d={amex:p,dinersclub:H,jcb:O,uatp:U,unionpay:S};w.value=(d[m.value]||L).value,ne(()=>{Y()})};return K(y,()=>{y.value?Y():C.value=null}),K(m,d=>{$("get-type",d),M()}),Z(A),te(()=>A("removeEventListener")),(d,v)=>r.labels&&r.inputFields?(i(),_("div",{key:0,class:R(["card-item",{"-active":x.value}])},[e("div",ge,[e("div",{class:R([{"-active":C.value},"card-item__focus"]),style:se(C.value),ref:n=>{n&&(I.value.focusElement=n)}},null,6),e("div",{class:"card-item__cover","aria-label":a(o)},[typeof a(f)=="string"?(i(),_("img",{key:0,src:a(f),class:"card-item__bg",alt:"Background image"},null,8,ke)):V("",!0)],8,ye),e("div",Ce,[e("div",xe,[Ve,e("div",$e,[s(T,{name:"slide-fade-up"},{default:c(()=>[a(m)?(i(),_("img",{src:a(D),key:a(m),alt:`${a(m)} brand image`,class:"card-item__typeImg"},null,8,Fe)):V("",!0)]),_:1})])]),e("label",{for:r.inputFields.cardNumber,ref:n=>{n&&(I.value[r.inputFields.cardNumber]=n)},"aria-label":"Card number",class:"card-item__number"},[(i(!0),_(B,null,E(w.value.split(""),(n,g)=>(i(),_("span",{key:g},[s(T,{name:"slide-fade-up"},{default:c(()=>[q(g,n)?(i(),_("div",Ie,"*")):r.valueFields.cardNumber.length>g?(i(),_("div",{class:R([{"-active":n.trim()===""},"card-item__numberItem"]),key:w.value},h(r.valueFields.cardNumber[g]),3)):(i(),_("div",{class:R([{"-active":n.trim()===""},"card-item__numberItem"]),key:w.value+1},h(n),3))]),_:2},1024)]))),128))],8,Ne),e("div",Me,[e("label",{for:r.inputFields.cardName,ref:n=>{n&&(I.value[r.inputFields.cardName]=n)},"aria-label":"Card name",class:"card-item__info"},[e("div",Ye,h(r.labels.cardHolder||"Card Holder"),1),s(T,{name:"slide-fade-up"},{default:c(()=>[r.valueFields.cardName.length?(i(),_("div",Pe,[s(le,{name:"slide-fade-right"},{default:c(()=>[(i(!0),_(B,null,E(r.valueFields.cardName.replace(/\s\s+/g," "),(n,g)=>(i(),_("span",{key:g+1,class:"card-item__nameItem"},h(n),1))),128))]),_:1})])):(i(),_("div",je,h(r.labels.cardName||"Full Name"),1))]),_:1})],8,we),e("div",{class:"card-item__date",ref:n=>{n&&(I.value.cardDate=n)}},[e("label",{for:r.inputFields.cardMonth,class:"card-item__dateTitle","aria-label":"Expiration date"},h(r.labels.cardExpires||"Expires"),9,Se),e("label",{for:r.inputFields.cardMonth,class:"card-item__dateItem","aria-label":"Card month"},[s(T,{name:"slide-fade-up"},{default:c(()=>[r.valueFields.cardMonth?(i(),_("span",{key:r.valueFields.cardMonth},h(r.valueFields.cardMonth),1)):(i(),_("span",Be,h(r.labels.cardMonth||"MM"),1))]),_:1})],8,Te),Ee,e("label",{for:r.inputFields.cardYear,class:"card-item__dateItem","aria-label":"Card year"},[s(T,{name:"slide-fade-up"},{default:c(()=>[r.valueFields.cardYear?(i(),_("span",{key:r.valueFields.cardYear},h(String(r.valueFields.cardYear).slice(2,4)),1)):(i(),_("span",De,h(r.labels.cardYear||"YY"),1))]),_:1})],8,Ue)],512)])])]),e("div",Ae,[e("div",{class:"card-item__cover","aria-label":a(o)},[typeof a(f)=="string"?(i(),_("img",{key:0,src:a(f),class:"card-item__bg",alt:"Background image"},null,8,ze)):V("",!0)],8,Re),He,e("div",Le,[e("label",{for:r.inputFields.cardCvv,"aria-label":"Card CVV"},[e("div",We,h(r.labels.cardCvv),1),e("div",qe,[e("span",null,h(r.valueFields.cardCvv),1)])],8,Oe),e("div",Xe,[a(m)?(i(),_("img",{key:0,src:a(D),class:"card-item__typeImg",alt:"Dark bar image"},null,8,Ge)):V("",!0)])])])],2)):V("",!0)}});var Ze=ie(Ke,[["__scopeId","data-v-10cb1eab"]]),ae={};const Je={class:"signup has-text-centered"},Qe={class:"card card-main"},ea={class:"card-content"},aa={class:"is-flex is-justify-content-center"},ta={class:"logo"},sa=e("img",{class:"is-justify-content-center",alt:"TradingDigital",src:me},null,-1),la={class:"is-size-4 has-text-weight-bold is-justify-content-center"},ra={class:"form mt-3"},da={class:"form mt-3"},na={class:"form mt-3"},oa={class:"card-content media"},ia={class:"media-content"},ca={class:"content"},ua=e("br",null,null,-1),ma={class:"media-right"},_a={class:"buttons is-justify-content-center mt-6"},va=j(" Pagar el curso "),pa={key:1},fa={class:"form mt-3"},ha={class:"buttons",style:{gap:"1.5rem"}},ba=["value"],ga=["value"],ya={class:"buttons is-centered mb-0"},ka=j(" Pagar "),Ca={class:"buttons is-centered mt-0"},xa=j(" Salir "),Va={class:"mt-5"},$a=e("span",null,[j("Si tienes problemas con el pago, \xA1contactanos por "),e("a",{href:"https://t.me/soportealclientetrading",target:"_blank"},"telegram"),j("!")],-1),Fa=G({emits:["loading"],setup(r,{emit:$}){const l=ce(),N=oe(),C=b(1),y=b(!1);Z(()=>{l.authenticated&&!l.payed&&(y.value=!0)});const u=J(new ue),x=b(l.course||""),p=J({cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}),U={cardName:"Nombre Completo",cardHolder:"Propietario",cardMonth:"MM",cardYear:"YY",cardExpires:"Expira",cardCvv:"CVV"},H=l.countries.map(m=>({value:m.id,label:m.name})),S=b([]);l.courses().then(m=>{S.value=m});const L=m=>"$"+m.price+"/90 d\xEDas",w=m=>{p.cardNumber=m.target.value.replace(/ /g,""),p.cardNumber=(p.cardNumber.match(/.{1,4}/g)||[""]).join(" ")},I=async()=>{await l.signup(u).then(m=>{$("loading"),m||l.subscribeCourse(x.value).then(o=>{})}).catch(()=>{$("loading")})},O=async()=>{const m=S.value.find(o=>o.id===x.value);l.authenticated||(u.validate().length?N.push("/login"):($("loading"),await I())),$("loading"),m&&l.post_4geeks({amount:m.price,description:"TradingDigital - "+m.name,entity_description:"TradingDigital - "+m.name,currency:"usd",credit_card_number:parseInt(p.cardNumber.split(" ").join("")),credit_card_security_code_number:parseInt(p.cardCvv),exp_month:parseInt(p.cardMonth),exp_year:parseInt(p.cardYear)}).then(async()=>{await l.status().then(async o=>{l.payed=o.payed,N.push("/")})}).finally(()=>{$("loading")})},D=()=>{y.value=!0},W=()=>{l.authenticated?l.logout():N.push("/login")};return(m,o)=>{const k=F("o-input"),f=F("o-field"),A=F("Multiselect"),Y=F("o-step-item"),q=F("o-switch"),M=F("o-button"),d=F("o-steps"),v=Ze,n=F("o-select"),g=he;return i(),_("div",Je,[e("div",Qe,[e("div",ea,[e("div",aa,[e("div",ta,[sa,e("p",la,h(a(l).authenticated&&!a(l).payed?"Pagar curso":"Bienvenido a TradingDigital"),1)])]),y.value?V("",!0):(i(),z(d,{key:0,modelValue:C.value,"onUpdate:modelValue":o[7]||(o[7]=t=>C.value=t),class:"mt-5","icon-prev":"chevron-left","icon-next":"chevron-right","label-position":"bottom"},{navigation:c(({previous:t,next:X})=>[e("div",_a,[t.disabled?V("",!0):(i(),z(M,{key:0,variant:"primary","icon-pack":"fas","icon-left":"chevron-left",onClick:Q(t.action,["prevent"])},null,8,["onClick"])),C.value===1&&a(u).firstname&&a(u).lastname&&a(u).country||C.value===2&&a(u).username&&a(u).email&&a(u).password&&a(u).password_confirm?(i(),z(M,{key:1,variant:"primary","icon-pack":"fas","icon-left":"chevron-right",onClick:Q(X.action,["prevent"])},null,8,["onClick"])):V("",!0),C.value===3&&x.value?(i(),z(M,{key:2,variant:"primary","icon-pack":"fas","icon-left":"chevron-right",onClick:D},{default:c(()=>[va]),_:1})):V("",!0)])]),default:c(()=>[s(Y,{step:"1",label:"Datos del Perfil",visible:!a(l).authenticated},{default:c(()=>[e("form",ra,[s(f,{label:"Nombre"},{default:c(()=>[s(k,{modelValue:a(u).firstname,"onUpdate:modelValue":o[0]||(o[0]=t=>a(u).firstname=t),maxlength:"30"},null,8,["modelValue"])]),_:1}),s(f,{label:"Apellido"},{default:c(()=>[s(k,{modelValue:a(u).lastname,"onUpdate:modelValue":o[1]||(o[1]=t=>a(u).lastname=t),maxlength:"30"},null,8,["modelValue"])]),_:1}),s(f,{label:"Pa\xEDs"},{default:c(()=>[s(A,{modelValue:a(u).country,"onUpdate:modelValue":o[2]||(o[2]=t=>a(u).country=t),options:a(H),placeholder:"Seleccionar...",noOptionsText:"No hay opciones a\xFAn",noResultsText:"No hay opciones a\xFAn",searchable:""},null,8,["modelValue","options"])]),_:1})])]),_:1},8,["visible"]),s(Y,{step:"2",label:"Datos del Usuario",visible:!a(l).authenticated},{default:c(()=>[e("form",da,[s(f,{label:"Nombre de usuario"},{default:c(()=>[s(k,{modelValue:a(u).username,"onUpdate:modelValue":o[3]||(o[3]=t=>a(u).username=t),maxlength:"10"},null,8,["modelValue"])]),_:1}),s(f,{label:"Correo"},{default:c(()=>[s(k,{modelValue:a(u).email,"onUpdate:modelValue":o[4]||(o[4]=t=>a(u).email=t),type:"email",maxlength:"40"},null,8,["modelValue"])]),_:1}),s(f,{label:"Contrase\xF1a"},{default:c(()=>[s(k,{modelValue:a(u).password,"onUpdate:modelValue":o[5]||(o[5]=t=>a(u).password=t),type:"password",maxlength:"20","password-reveal":""},null,8,["modelValue"])]),_:1}),s(f,{label:"Confirmar contrase\xF1a"},{default:c(()=>[s(k,{modelValue:a(u).password_confirm,"onUpdate:modelValue":o[6]||(o[6]=t=>a(u).password_confirm=t),type:"password",maxlength:"20","password-reveal":""},null,8,["modelValue"])]),_:1})])]),_:1},8,["visible"]),s(Y,{step:"3",label:"Curso",visible:!a(l).authenticated},{default:c(()=>[e("form",na,[(i(!0),_(B,null,E(S.value,t=>(i(),_("article",{class:"card",key:t.id},[e("div",oa,[e("div",ia,[e("div",ca,[e("p",null,[e("strong",null,h(t.name),1),ua,e("small",null,h(L(t)),1)])])]),e("div",ma,[s(f,null,{default:c(()=>[s(q,{modelValue:x.value===t.id,disabled:x.value===t.id,variant:"primary",onInput:X=>x.value=t.id},null,8,["modelValue","disabled","onInput"])]),_:2},1024)])])]))),128))])]),_:1},8,["visible"])]),_:1},8,["modelValue"])),y.value?(i(),_("div",pa,[s(v,{"value-fields":a(p),labels:U},null,8,["value-fields"]),e("form",fa,[s(f,{label:"N\xFAmero de tarjeta"},{default:c(()=>[s(k,{modelValue:a(p).cardNumber,id:"v-card-number","data-card-field":"",maxlength:"19",type:"tel",onInput:w},null,8,["modelValue"])]),_:1}),s(f,{label:"Propietario"},{default:c(()=>[s(k,{modelValue:a(p).cardName,"onUpdate:modelValue":o[8]||(o[8]=t=>a(p).cardName=t),id:"v-card-name","data-card-field":"",type:"text"},null,8,["modelValue"])]),_:1}),e("div",ha,[s(f,{"root-class":"no",label:"Fecha de expiraci\xF3n",grouped:""},{default:c(()=>[s(n,{modelValue:a(p).cardMonth,"onUpdate:modelValue":o[9]||(o[9]=t=>a(p).cardMonth=t),id:"v-card-month","data-card-field":""},{default:c(()=>[(i(),_(B,null,E(12,t=>e("option",{key:"m"+t,value:t},h(t),9,ba)),64))]),_:1},8,["modelValue"]),s(n,{modelValue:a(p).cardYear,"onUpdate:modelValue":o[10]||(o[10]=t=>a(p).cardYear=t),id:"v-card-year","data-card-field":""},{default:c(()=>[(i(),_(B,null,E(12,t=>e("option",{key:"y"+t,value:2020+t},h(2020+t),9,ga)),64))]),_:1},8,["modelValue"])]),_:1}),s(f,{label:"CVV"},{default:c(()=>[s(k,{modelValue:a(p).cardCvv,"onUpdate:modelValue":o[11]||(o[11]=t=>a(p).cardCvv=t),id:"v-card-cvv","data-card-field":"",type:"text"},null,8,["modelValue"])]),_:1})]),e("div",ya,[s(M,{variant:"primary",onClick:O},{default:c(()=>[ka]),_:1})]),e("div",Ca,[s(M,{variant:"white",onClick:W},{default:c(()=>[xa]),_:1})])]),e("p",Va,[s(g,{class:"icon has-text-danger",style:{"vertical-align":"text-bottom"}}),$a])])):V("",!0)])])])}}});typeof ae=="function"&&ae(Fa);export{Fa as default};

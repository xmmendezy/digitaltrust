import{u as b}from"./index.fd7e8ecc.js";import{d as j,k as m,b as k,r as _,o as r,c,h as o,F as V,y as C,n as w,t as l,s as E,x as T,a as p,w as B,j as D}from"./vendor.92770e02.js";var f={};const H={class:"admin-message"},N={class:"messages"},S={class:"card-header"},F={class:"card-header-title"},M={class:"card-content"},U={class:"content"},q={class:"card-footer"},z={class:"card-footer-item"},L={class:"send-box buttons"},R=D(" Enviar "),Y=j({emits:["loading"],setup(A,{emit:t}){const a=m(""),d=m([]),n=b(),h=k(),i=()=>{n.messages(h.params.id).then(e=>{d.value=e}).finally(()=>{t("loading");const e=document.querySelector(".messages");e&&e.scrollTo(0,e.scrollHeight)})};t("loading"),i();const v=()=>{t("loading"),n.message({content:a.value}).then(e=>{e?(n.notification("Error al enviar mensaje","danger"),t("loading")):(a.value="",i())})},g=e=>E(T(e),"dd/MM/yyyy HH:mm");return(e,u)=>{const y=_("o-input"),x=_("o-button");return r(),c("div",H,[o("div",N,[(r(!0),c(V,null,C(d.value,s=>(r(),c("div",{key:s.id,class:w(["card",[s.own?"card-left":"card-right"]])},[o("header",S,[o("p",F,l(s.own?s.name:"Yo"),1)]),o("div",M,[o("div",U,l(s.content),1)]),o("footer",q,[o("span",z,l(g(s.created)),1)])],2))),128))]),o("div",L,[p(y,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=s=>a.value=s),class:"message-input",maxlength:"500",type:"textarea",placeholder:"Escribir mensaje..."},null,8,["modelValue"]),p(x,{class:"message-button",variant:"primary","icon-left":"chevron-right",onClick:v},{default:B(()=>[R]),_:1})])])}}});typeof f=="function"&&f(Y);export{Y as default};

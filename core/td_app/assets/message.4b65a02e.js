import{u as y}from"./index.fd7e8ecc.js";import{d as x,k as m,r as u,o as r,c,h as s,F as b,y as j,n as V,t as l,s as k,x as C,a as h,w,j as E}from"./vendor.92770e02.js";const T={class:"message"},B={class:"messages"},D={class:"card-header"},H={class:"card-header-title"},N={class:"card-content"},S={class:"content"},F={class:"card-footer"},M={class:"card-footer-item"},U={class:"send-box buttons"},q=E(" Enviar "),Y=x({emits:["loading"],setup(z,{emit:t}){const a=m(""),d=m([]),n=y(),i=()=>{n.messages().then(e=>{d.value=e}).finally(()=>{t("loading");const e=document.querySelector(".messages");e&&e.scrollTo(0,e.scrollHeight)})};t("loading"),i();const p=()=>{t("loading"),n.message({content:a.value}).then(e=>{e?(n.notification("Error al enviar mensaje","danger"),t("loading")):(a.value="",i())})},f=e=>k(C(e),"dd/MM/yyyy HH:mm");return(e,_)=>{const g=u("o-input"),v=u("o-button");return r(),c("div",T,[s("div",B,[(r(!0),c(b,null,j(d.value,o=>(r(),c("div",{key:o.id,class:V(["card",[o.own?"card-right":"card-left"]])},[s("header",D,[s("p",H,l(o.own?"Yo":"Profesor"),1)]),s("div",N,[s("div",S,l(o.content),1)]),s("footer",F,[s("span",M,l(f(o.created)),1)])],2))),128))]),s("div",U,[h(g,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=o=>a.value=o),class:"message-input",maxlength:"500",type:"textarea",placeholder:"Escribir mensaje..."},null,8,["modelValue"]),h(v,{class:"message-button",variant:"primary","icon-left":"chevron-right",onClick:p},{default:w(()=>[q]),_:1})])])}}});export{Y as default};

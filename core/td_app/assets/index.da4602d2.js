import{o as b,c as x,h as O,k as v,u as C,a4 as A,a5 as H,K as I,d as K,r as g,a as s,w as c,j as w,t as y,q as U,s as W,l as M}from"./vendor.0c19fb08.js";import{u as Y}from"./index.a4331912.js";const q={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},F=O("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),G=[F];function J(o,e){return b(),x("svg",q,G)}var Q={name:"fa-solid-times",render:J};const X={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Z=O("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",fill:"currentColor"},null,-1),ee=[Z];function te(o,e){return b(),x("svg",X,ee)}var oe={name:"fa-solid-check",render:te};function B(o){return A()?(H(o),!0):!1}const h=typeof window!="undefined",ne=o=>typeof o=="string",$=()=>{};function ae(o,e,t={}){const{immediate:f=!0}=t,n=v(!1);let a=null;function d(){a&&(clearTimeout(a),a=null)}function u(){n.value=!1,d()}function r(...i){d(),n.value=!0,a=setTimeout(()=>{n.value=!1,a=null,o(...i)},C(e))}return f&&(n.value=!0,h&&r()),B(u),{isPending:n,start:r,stop:u}}const ie=h?window:void 0;h&&window.document;const le=h?window.navigator:void 0;h&&window.location;function se(...o){let e,t,f,n;if(ne(o[0])?([t,f,n]=o,e=ie):[e,t,f,n]=o,!e)return $;let a=$;const d=I(()=>C(e),r=>{a(),!!r&&(r.addEventListener(t,f,n),a=()=>{r.removeEventListener(t,f,n),a=$})},{immediate:!0,flush:"post"}),u=()=>{d(),a()};return B(u),u}function re(o={}){const{navigator:e=le,read:t=!1,source:f,copiedDuring:n=1500}=o,a=["copy","cut"],d=Boolean(e&&"clipboard"in e),u=v(""),r=v(!1),i=ae(()=>r.value=!1,n);function p(){e.clipboard.readText().then(m=>{u.value=m})}if(d&&t)for(const m of a)se(m,p);async function _(m=C(f)){d&&m!=null&&(await e.clipboard.writeText(m),u.value=m,r.value=!0,i.start())}return{isSupported:d,text:u,copied:r,copy:_}}const S=typeof globalThis=="undefined"?void 0:globalThis,L="__vueuse_ssr_handlers__";S[L]=S[L]||{};S[L];var j,D;h&&(window==null?void 0:window.navigator)&&((j=window==null?void 0:window.navigator)==null?void 0:j.platform)&&/iP(ad|hone|od)/.test((D=window==null?void 0:window.navigator)==null?void 0:D.platform);var ce=Object.defineProperty,E=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,N=(o,e,t)=>e in o?ce(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,fe=(o,e)=>{for(var t in e||(e={}))de.call(e,t)&&N(o,t,e[t]);if(E)for(var t of E(e))ue.call(e,t)&&N(o,t,e[t]);return o};const pe={top:0,left:0,bottom:0,right:0,height:0,width:0};fe({text:""},pe);var R={};const _e={class:"admin has-text-centered"},me=w("Copiar lista de correos"),ve=K({emits:["loading"],setup(o,{emit:e}){const t=Y(),{copy:f}=re(),n=v([]),a=v([]),d=v("");e("loading"),t.clients().then(i=>{n.value=i}).finally(()=>{e("loading")}),t.subscribe_mails().then(i=>{a.value=i,d.value=i.map(p=>p.email).join(", ")});const u=i=>U(W(i),"dd/MM/yyyy HH:mm"),r=(i,p)=>{f(i.toString()),t.notification(p||`Se ha copiado al portapapeles: ${i}`,"link")};return(i,p)=>{const _=g("o-table-column"),m=oe,V=Q,k=g("o-table"),P=g("o-tab-item"),T=g("o-button"),z=g("o-tabs");return b(),x("div",_e,[s(z,null,{default:c(()=>[s(P,{value:"0",label:"Usuarios registrados"},{default:c(()=>[s(k,{data:n.value},{default:c(()=>[s(_,{field:"name",label:"Nombre",width:"300"},{default:c(l=>[w(y(l.row.name),1)]),_:1}),s(_,{field:"email",label:"Correo",width:"300"},{default:c(l=>[w(y(l.row.email),1)]),_:1}),s(_,{field:"course",label:"Curso",width:"300"},{default:c(l=>[w(y(l.row.course),1)]),_:1}),s(_,{field:"created",label:"Registro",width:"300"},{default:c(l=>[w(y(u(l.row.created)),1)]),_:1}),s(_,{field:"payed",label:"Pagado",width:"300",position:"centered"},{default:c(l=>[l.row.payed?(b(),M(m,{key:0,class:"has-text-success"})):(b(),M(V,{key:1}))]),_:1})]),_:1},8,["data"])]),_:1}),s(P,{value:"1",label:"Subscritos a la lista de mails"},{default:c(()=>[s(T,{"icon-right":"copy",onClick:p[0]||(p[0]=l=>r(d.value,"Se ha copiado  la lista de correos al portapapeles"))},{default:c(()=>[me]),_:1}),s(k,{data:a.value},{default:c(()=>[s(_,{field:"email",label:"Correo",width:"300"},{default:c(l=>[w(y(l.row.email),1)]),_:1}),s(_,{field:"copy",label:"Copiar",width:"300"},{default:c(l=>[s(T,{"icon-right":"copy",onClick:we=>r(l.row.email)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})])}}});typeof R=="function"&&R(ve);export{ve as default};

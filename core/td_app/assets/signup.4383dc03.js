import{o as i,c as m,h as a,d as K,k as f,q as B,S as Q,U as ee,V as ie,n as O,W as ce,b as t,i as k,a as o,w as c,T as D,F as R,y as A,t as p,X as ue,Y as me,Z as _e,j as Y,_ as ve,$ as pe,u as fe,R as ae,r as w,l as q,a0 as te}from"./vendor.c7cc6beb.js";import{_ as he,u as ge,S as be,a as ye}from"./index.722ea5d3.js";const ke={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},Ce=a("path",{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46s46-20.595 46-46s-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",fill:"currentColor"},null,-1),xe=[Ce];function Ve(d,C){return i(),m("svg",ke,xe)}var $e={name:"fa-solid-exclamation-circle",render:Ve},Fe="/td_app/images/chip.png";const se=d=>(me("data-v-10cb1eab"),d=d(),_e(),d),Ne={class:"card-item__side -front"},Ie=["aria-label"],we=["src"],Me={class:"card-item__wrapper"},Ye={class:"card-item__top"},Pe=se(()=>a("img",{src:Fe,class:"card-item__chip",alt:"Card chip image"},null,-1)),je={class:"card-item__type"},Te=["src","alt"],Se=["for"],Be={key:0,class:"card-item__numberItem"},Ue={class:"card-item__content"},Ee=["for"],De={class:"card-item__holder"},Re={class:"card-item__name",key:"1"},Ae={class:"card-item__name",key:"2"},qe=["for"],ze=["for"],He={key:"2"},Le=Y(" / "),Oe=["for"],We={key:"2"},Xe={class:"card-item__side -back"},Ge=["aria-label"],Ze=["src"],Je=se(()=>a("div",{class:"card-item__band"},null,-1)),Ke={class:"card-item__cvv"},Qe=["for"],ea={class:"card-item__cvvTitle"},aa={class:"card-item__cvvBand"},ta={class:"card-item__type"},sa=["src"],la=K({props:{valueFields:{type:Object,required:!0},inputFields:{type:Object,default:()=>({cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"})},labels:{type:Object,default:()=>({cardName:"Full Name",cardHolder:"Card Holder",cardMonth:"MM",cardYear:"YY",cardExpires:"Expires",cardCvv:"CVV"})},isCardNumberMasked:{type:Boolean,default:!0},hasRandomBackgrounds:{type:Boolean,default:!0},backgroundImage:{type:[String,Number],default:""},setType:{type:String,default:""}},emits:["get-type"],setup(d,{emit:C}){const r=d,x="#### #### #### ####",N=f(null),g=f(null),V=f(!1),$=f(!1),F=f("#### ###### #####"),I=f("#### #### #### ###"),u=f("#### ###### ####"),b=f("###### ####### ######"),v=f(x),P=f(x),M=f({}),j=B(()=>{const e=r.valueFields.cardNumber.replace(/\s+/g,"");return e.startsWith("2131")||e.startsWith("1800")?I:x}),z=B(()=>`/td_app/images/${y.value}.png`),W=["visaelectron","visa","elo","amex","mastercard","discover","unionpay","troy","dinersclub","jcb","laser","dankort","uatp","mir","hipercard","aura","maestro"],y=B(()=>{var s,h;const e=(h=(s=r.setType)==null?void 0:s.toLowerCase())==null?void 0:h.replace(/ /g,"");if((e==null?void 0:e.length)&&Object.values(W).includes(e))return e;const n=r.valueFields.cardNumber.replace(/\s+/g,"");return n.match(/^4(026|17500|405|508|844|91[37])/)?"visaelectron":n.match(/^4\d{12}(\d{3})?$/)?"visa":n.match(/^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))/)?"elo":n.match(/^3[47]\d{13}$/)?"amex":n.match(/^(5[1-5]\d{4}|677189)\d{10}$/)?"mastercard":n.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/)?"discover":n.match(/^62[0-9]\d{14,17}$/)?"unionpay":n.match(/^9792\d{12}$/)?"troy":n.match(/^3(0[0-5]|[68]\d)\d{11,16}/)?"dinersclub":n.match(/(?:2131|1800|35[0-9]{3})[0-9]{11}$/)?"jcb":n.match(/^(6304|6706|6709|6771)[0-9]{12,15}$/)?"laser":n.match(/^5019\d{12}$/)?"dankort":n.match(/^1\d{14}$/)?"uatp":n.match(/^220[0-4]\d{12}$/)?"mir":n.match(/^(606282\d{10}(\d{3})?)|(3841\d{15})$/)?"hipercard":n.match(/^((?!504175))^((?!5067))(^50[0-9])/)?"aura":n.match(/(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15}$/)?"maestro":""}),H=B(()=>!r.hasRandomBackgrounds&&parseInt(r.backgroundImage)?"Image cover":""),X=B(()=>{const e=parseInt(r.backgroundImage);return Number.isFinite(e)&&e<26&&e>0}),T=B(()=>{const e=parseInt(r.backgroundImage);return X.value?`/td_app/images/${e}.jpg`:r.backgroundImage&&!Number.isFinite(e)?r.backgroundImage:r.hasRandomBackgrounds?`/td_app/images/${Math.floor(Math.random()*25+1)}.jpg`:null}),U=(e="addEventListener")=>{document.querySelectorAll("[data-card-field]").forEach(s=>{s[e]("focus",()=>{V.value=!0,s.id===r.inputFields.cardYear||s.id===r.inputFields.cardMonth?g.value="cardDate":g.value=s.id,$.value=s.id===r.inputFields.cardCvv}),s[e]("blur",()=>{$.value=!s.id===r.inputFields.cardCvv;const h=setTimeout(()=>{V.value||(g.value=null),clearTimeout(h)},300);V.value=!1})})},E=()=>{const e=M.value[g.value||""];N.value=e?{width:`${e.offsetWidth}px`,height:`${e.offsetHeight}px`,transform:`translateX(${e.offsetLeft}px) translateY(${e.offsetTop}px)`}:null},L=(e,n)=>{const s=y.value==="amex"?13:14;return e<s&&r.valueFields.cardNumber.length>e&&n.trim()!==""&&r.isCardNumberMasked},_=()=>{const e={amex:F,dinersclub:u,jcb:j,uatp:I,unionpay:b};P.value=(e[y.value]||v).value,ve(()=>{E()})};return Q(g,()=>{g.value?E():N.value=null}),Q(y,e=>{C("get-type",e),_()}),ee(U),ie(()=>U("removeEventListener")),(e,n)=>d.labels&&d.inputFields?(i(),m("div",{key:0,class:O(["card-item",{"-active":$.value}])},[a("div",Ne,[a("div",{class:O([{"-active":N.value},"card-item__focus"]),style:ce(N.value),ref:s=>{s&&(M.value.focusElement=s)}},null,6),a("div",{class:"card-item__cover","aria-label":t(H)},[typeof t(T)=="string"?(i(),m("img",{key:0,src:t(T),class:"card-item__bg",alt:"Background image"},null,8,we)):k("",!0)],8,Ie),a("div",Me,[a("div",Ye,[Pe,a("div",je,[o(D,{name:"slide-fade-up"},{default:c(()=>[t(y)?(i(),m("img",{src:t(z),key:t(y),alt:`${t(y)} brand image`,class:"card-item__typeImg"},null,8,Te)):k("",!0)]),_:1})])]),a("label",{for:d.inputFields.cardNumber,ref:s=>{s&&(M.value[d.inputFields.cardNumber]=s)},"aria-label":"Card number",class:"card-item__number"},[(i(!0),m(R,null,A(P.value.split(""),(s,h)=>(i(),m("span",{key:h},[o(D,{name:"slide-fade-up"},{default:c(()=>[L(h,s)?(i(),m("div",Be,"*")):d.valueFields.cardNumber.length>h?(i(),m("div",{class:O([{"-active":s.trim()===""},"card-item__numberItem"]),key:P.value},p(d.valueFields.cardNumber[h]),3)):(i(),m("div",{class:O([{"-active":s.trim()===""},"card-item__numberItem"]),key:P.value+1},p(s),3))]),_:2},1024)]))),128))],8,Se),a("div",Ue,[a("label",{for:d.inputFields.cardName,ref:s=>{s&&(M.value[d.inputFields.cardName]=s)},"aria-label":"Card name",class:"card-item__info"},[a("div",De,p(d.labels.cardHolder||"Card Holder"),1),o(D,{name:"slide-fade-up"},{default:c(()=>[d.valueFields.cardName.length?(i(),m("div",Re,[o(ue,{name:"slide-fade-right"},{default:c(()=>[(i(!0),m(R,null,A(d.valueFields.cardName.replace(/\s\s+/g," "),(s,h)=>(i(),m("span",{key:h+1,class:"card-item__nameItem"},p(s),1))),128))]),_:1})])):(i(),m("div",Ae,p(d.labels.cardName||"Full Name"),1))]),_:1})],8,Ee),a("div",{class:"card-item__date",ref:s=>{s&&(M.value.cardDate=s)}},[a("label",{for:d.inputFields.cardMonth,class:"card-item__dateTitle","aria-label":"Expiration date"},p(d.labels.cardExpires||"Expires"),9,qe),a("label",{for:d.inputFields.cardMonth,class:"card-item__dateItem","aria-label":"Card month"},[o(D,{name:"slide-fade-up"},{default:c(()=>[d.valueFields.cardMonth?(i(),m("span",{key:d.valueFields.cardMonth},p(d.valueFields.cardMonth),1)):(i(),m("span",He,p(d.labels.cardMonth||"MM"),1))]),_:1})],8,ze),Le,a("label",{for:d.inputFields.cardYear,class:"card-item__dateItem","aria-label":"Card year"},[o(D,{name:"slide-fade-up"},{default:c(()=>[d.valueFields.cardYear?(i(),m("span",{key:d.valueFields.cardYear},p(String(d.valueFields.cardYear).slice(2,4)),1)):(i(),m("span",We,p(d.labels.cardYear||"YY"),1))]),_:1})],8,Oe)],512)])])]),a("div",Xe,[a("div",{class:"card-item__cover","aria-label":t(H)},[typeof t(T)=="string"?(i(),m("img",{key:0,src:t(T),class:"card-item__bg",alt:"Background image"},null,8,Ze)):k("",!0)],8,Ge),Je,a("div",Ke,[a("label",{for:d.inputFields.cardCvv,"aria-label":"Card CVV"},[a("div",ea,p(d.labels.cardCvv),1),a("div",aa,[a("span",null,p(d.valueFields.cardCvv),1)])],8,Qe),a("div",ta,[t(y)?(i(),m("img",{key:0,src:t(z),class:"card-item__typeImg",alt:"Dark bar image"},null,8,sa)):k("",!0)])])])],2)):k("",!0)}});var ra=he(la,[["__scopeId","data-v-10cb1eab"]]),le={};const oa={class:"signup has-text-centered"},da={class:"card card-main"},na={class:"card-content"},ia={class:"is-flex is-justify-content-center"},ca={class:"logo"},ua=a("img",{class:"is-justify-content-center",alt:"TradingDigital",src:ye},null,-1),ma={class:"is-size-4 has-text-weight-bold is-justify-content-center"},_a={class:"form mt-3"},va={class:"form mt-3"},pa={class:"form mt-3"},fa={class:"card-content media"},ha={class:"media-content"},ga={class:"content"},ba=a("br",null,null,-1),ya={class:"media-right"},ka={class:"buttons is-justify-content-center mt-6"},Ca=Y(" Registrarse "),xa=Y(" Pagar el curso "),Va={key:1},$a={class:"form mt-3"},Fa={class:"buttons",style:{gap:"1.5rem"}},Na=["value"],Ia=["value"],wa={class:"buttons is-centered mb-0"},Ma=Y(" Pagar "),Ya={class:"buttons is-centered mt-0"},Pa=Y(" Salir "),ja={class:"mt-5"},Ta=a("span",null,[Y("Si tienes problemas con el pago, \xA1contactanos por "),a("a",{href:"https://t.me/soportealclientetrading",target:"_blank"},"telegram"),Y("!")],-1),Sa=K({emits:["loading"],setup(d,{emit:C}){var U,E,L;const r=ge(),x=pe(),N=fe(),g=((U=N.query)==null?void 0:U.digital_trust)==="true",V=((E=N.query)==null?void 0:E.social_trading)==="true",$=((L=N.query)==null?void 0:L.signup_course)==="true",F=f(1),I=f(!1);ee(()=>{r.authenticated&&!r.payed&&(I.value=!0,$&&(I.value=!1,F.value=3))});const u=ae(new be),b=f(r.course||""),v=ae({cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}),P={cardName:"Nombre Completo",cardHolder:"Propietario",cardMonth:"MM",cardYear:"YY",cardExpires:"Expira",cardCvv:"CVV"},M=r.countries.map(_=>({value:_.id,label:_.name})),j=f([]);r.authenticated&&!$?r.myCourse().then(_=>{_&&(j.value=[_])}):r.courses().then(_=>{j.value=_});const z=_=>"$"+_.price+"/90 d\xEDas",W=_=>{v.cardNumber=_.target.value.replace(/ /g,""),v.cardNumber=(v.cardNumber.match(/.{1,4}/g)||[""]).join(" ")},y=async()=>{g&&(C("loading"),u.digital_trust=!0),V&&(C("loading"),u.social_trading=!0),await r.signup(u).then(_=>{C("loading"),_||(g&&r.user?window.location.replace("https://www.digitaltrustcompany.com/dt_app/link_traiding?id="+r.user.id):V?x.push("/"):b.value?r.subscribeCourse(b.value).then(e=>{}):x.push("/"))}).catch(()=>{C("loading")})},H=async()=>{const _=j.value.find(e=>e.id===b.value);if(r.authenticated||(u.validate().length?x.push("/login"):(C("loading"),await y())),$)if(b.value)r.subscribeCourse(b.value).then(e=>{});else return;C("loading"),_&&r.post_4geeks({amount:_.price,description:"TradingDigital - "+_.name,entity_description:"TradingDigital - "+_.name,currency:"usd",credit_card_number:parseInt(v.cardNumber.split(" ").join("")),credit_card_security_code_number:parseInt(v.cardCvv),exp_month:parseInt(v.cardMonth),exp_year:parseInt(v.cardYear)}).then(async()=>{await r.status().then(async e=>{r.payed=e.payed,x.push("/")})}).finally(()=>{C("loading")})},X=()=>{I.value=!0},T=()=>{r.authenticated?$?x.push("/"):r.logout():x.push("/login")};return(_,e)=>{const n=w("o-input"),s=w("o-field"),h=w("Multiselect"),G=w("o-step-item"),re=w("o-switch"),S=w("o-button"),oe=w("o-steps"),de=ra,Z=w("o-select"),ne=$e;return i(),m("div",oa,[a("div",da,[a("div",na,[a("div",ia,[a("div",ca,[ua,a("p",ma,p(t(r).authenticated&&!t(r).payed?"Pagar curso":"Bienvenido a TradingDigital"),1)])]),I.value?k("",!0):(i(),q(oe,{key:0,modelValue:F.value,"onUpdate:modelValue":e[8]||(e[8]=l=>F.value=l),class:"mt-5","icon-prev":"chevron-left","icon-next":"chevron-right","label-position":"bottom"},{navigation:c(({previous:l,next:J})=>[a("div",ka,[l.disabled?k("",!0):(i(),q(S,{key:0,variant:"primary","icon-pack":"fas","icon-left":"chevron-left",onClick:te(l.action,["prevent"])},null,8,["onClick"])),F.value===1&&t(u).firstname&&t(u).lastname&&t(u).country||F.value===2&&t(u).username&&t(u).email&&t(u).password&&t(u).password_confirm&&!g&&!V?(i(),q(S,{key:1,variant:"primary","icon-pack":"fas","icon-left":"chevron-right",onClick:te(J.action,["prevent"])},null,8,["onClick"])):k("",!0),F.value===2&&(g||V)?(i(),q(S,{key:2,variant:"primary","icon-pack":"fas","icon-left":"chevron-right",onClick:y},{default:c(()=>[Ca]),_:1})):k("",!0),F.value===3&&b.value&&b.value!=="none"?(i(),q(S,{key:3,variant:"primary","icon-pack":"fas","icon-left":"chevron-right",onClick:X},{default:c(()=>[xa]),_:1})):k("",!0)])]),default:c(()=>[o(G,{step:"1",label:"Datos del Perfil",visible:!t(r).authenticated},{default:c(()=>[a("form",_a,[o(s,{label:"Nombre"},{default:c(()=>[o(n,{modelValue:t(u).firstname,"onUpdate:modelValue":e[0]||(e[0]=l=>t(u).firstname=l),maxlength:"30"},null,8,["modelValue"])]),_:1}),o(s,{label:"Apellido"},{default:c(()=>[o(n,{modelValue:t(u).lastname,"onUpdate:modelValue":e[1]||(e[1]=l=>t(u).lastname=l),maxlength:"30"},null,8,["modelValue"])]),_:1}),o(s,{label:"Pa\xEDs"},{default:c(()=>[o(h,{modelValue:t(u).country,"onUpdate:modelValue":e[2]||(e[2]=l=>t(u).country=l),options:t(M),placeholder:"Seleccionar...",noOptionsText:"No hay opciones a\xFAn",noResultsText:"No hay opciones a\xFAn",searchable:""},null,8,["modelValue","options"])]),_:1}),o(s,{label:"Usuario Telegram"},{default:c(()=>[o(n,{modelValue:t(u).telegram,"onUpdate:modelValue":e[3]||(e[3]=l=>t(u).telegram=l),icon:"at",maxlength:"30"},null,8,["modelValue"])]),_:1})])]),_:1},8,["visible"]),o(G,{step:"2",label:"Datos del Usuario",visible:!t(r).authenticated},{default:c(()=>[a("form",va,[o(s,{label:"Nombre de usuario"},{default:c(()=>[o(n,{modelValue:t(u).username,"onUpdate:modelValue":e[4]||(e[4]=l=>t(u).username=l),maxlength:"10"},null,8,["modelValue"])]),_:1}),o(s,{label:"Correo"},{default:c(()=>[o(n,{modelValue:t(u).email,"onUpdate:modelValue":e[5]||(e[5]=l=>t(u).email=l),type:"email",maxlength:"40"},null,8,["modelValue"])]),_:1}),o(s,{label:"Contrase\xF1a"},{default:c(()=>[o(n,{modelValue:t(u).password,"onUpdate:modelValue":e[6]||(e[6]=l=>t(u).password=l),type:"password",maxlength:"20","password-reveal":""},null,8,["modelValue"])]),_:1}),o(s,{label:"Confirmar contrase\xF1a"},{default:c(()=>[o(n,{modelValue:t(u).password_confirm,"onUpdate:modelValue":e[7]||(e[7]=l=>t(u).password_confirm=l),type:"password",maxlength:"20","password-reveal":""},null,8,["modelValue"])]),_:1})])]),_:1},8,["visible"]),o(G,{step:"3",label:"Curso",visible:!t(r).authenticated&&!g&&!V||t(r).authenticated&&$},{default:c(()=>[a("form",pa,[(i(!0),m(R,null,A(j.value,l=>(i(),m("article",{class:"card",key:l.id},[a("div",fa,[a("div",ha,[a("div",ga,[a("p",null,[a("strong",null,p(l.name),1),ba,a("small",null,p(z(l)),1)])])]),a("div",ya,[o(s,null,{default:c(()=>[o(re,{modelValue:b.value===l.id,disabled:b.value===l.id,variant:"primary",onInput:J=>b.value=l.id},null,8,["modelValue","disabled","onInput"])]),_:2},1024)])])]))),128))])]),_:1},8,["visible"])]),_:1},8,["modelValue"])),I.value?(i(),m("div",Va,[o(de,{"value-fields":t(v),labels:P},null,8,["value-fields"]),a("form",$a,[o(s,{label:"N\xFAmero de tarjeta"},{default:c(()=>[o(n,{modelValue:t(v).cardNumber,id:"v-card-number","data-card-field":"",maxlength:"19",type:"tel",onInput:W},null,8,["modelValue"])]),_:1}),o(s,{label:"Propietario"},{default:c(()=>[o(n,{modelValue:t(v).cardName,"onUpdate:modelValue":e[9]||(e[9]=l=>t(v).cardName=l),id:"v-card-name","data-card-field":"",type:"text"},null,8,["modelValue"])]),_:1}),a("div",Fa,[o(s,{"root-class":"no",label:"Fecha de expiraci\xF3n",grouped:""},{default:c(()=>[o(Z,{modelValue:t(v).cardMonth,"onUpdate:modelValue":e[10]||(e[10]=l=>t(v).cardMonth=l),id:"v-card-month","data-card-field":""},{default:c(()=>[(i(),m(R,null,A(12,l=>a("option",{key:"m"+l,value:l},p(l),9,Na)),64))]),_:1},8,["modelValue"]),o(Z,{modelValue:t(v).cardYear,"onUpdate:modelValue":e[11]||(e[11]=l=>t(v).cardYear=l),id:"v-card-year","data-card-field":""},{default:c(()=>[(i(),m(R,null,A(12,l=>a("option",{key:"y"+l,value:2020+l},p(2020+l),9,Ia)),64))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"CVV"},{default:c(()=>[o(n,{modelValue:t(v).cardCvv,"onUpdate:modelValue":e[12]||(e[12]=l=>t(v).cardCvv=l),id:"v-card-cvv","data-card-field":"",type:"text"},null,8,["modelValue"])]),_:1})]),a("div",wa,[o(S,{variant:"primary",onClick:H},{default:c(()=>[Ma]),_:1})]),a("div",Ya,[o(S,{variant:"white",onClick:T},{default:c(()=>[Pa]),_:1})])]),a("p",ja,[o(ne,{class:"icon has-text-danger",style:{"vertical-align":"text-bottom"}}),Ta])])):k("",!0)])])])}}});typeof le=="function"&&le(Sa);export{Sa as default};

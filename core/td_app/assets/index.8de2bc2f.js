import{o as b,c as x,h as $,k as v,b as C,a3 as j,a4 as H,N as U,d as W,r as g,a as l,w as c,j as w,t as y,q as F,s as V,l as E}from"./vendor.1f7293ac.js";import{u as z}from"./index.7c6334a8.js";const A={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},G=$("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),I=[G];function Y(e,t){return b(),x("svg",A,I)}var q={name:"fa-solid-times",render:Y};const J={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},K=$("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",fill:"currentColor"},null,-1),Q=[K];function X(e,t){return b(),x("svg",J,Q)}var Z={name:"fa-solid-check",render:X};function M(e){return j()?(H(e),!0):!1}const h=typeof window!="undefined",ee=e=>typeof e=="string",L=()=>{};function te(e,t,r={}){const{immediate:f=!0}=r,o=v(!1);let n=null;function d(){n&&(clearTimeout(n),n=null)}function u(){o.value=!1,d()}function s(...a){d(),o.value=!0,n=setTimeout(()=>{o.value=!1,n=null,e(...a)},C(t))}return f&&(o.value=!0,h&&s()),M(u),{isPending:o,start:s,stop:u}}const oe=h?window:void 0;h&&window.document;const ne=h?window.navigator:void 0;h&&window.location;function ae(...e){let t,r,f,o;if(ee(e[0])?([r,f,o]=e,t=oe):[t,r,f,o]=e,!t)return L;let n=L;const d=U(()=>C(t),s=>{n(),!!s&&(s.addEventListener(r,f,o),n=()=>{s.removeEventListener(r,f,o),n=L})},{immediate:!0,flush:"post"}),u=()=>{d(),n()};return M(u),u}function ie(e={}){const{navigator:t=ne,read:r=!1,source:f,copiedDuring:o=1500}=e,n=["copy","cut"],d=Boolean(t&&"clipboard"in t),u=v(""),s=v(!1),a=te(()=>s.value=!1,o);function p(){t.clipboard.readText().then(m=>{u.value=m})}if(d&&r)for(const m of n)ae(m,p);async function _(m=C(f)){d&&m!=null&&(await t.clipboard.writeText(m),u.value=m,s.value=!0,a.start())}return{isSupported:d,text:u,copied:s,copy:_}}var S;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(S||(S={}));var B,D;h&&(window==null?void 0:window.navigator)&&((B=window==null?void 0:window.navigator)==null?void 0:B.platform)&&/iP(ad|hone|od)/.test((D=window==null?void 0:window.navigator)==null?void 0:D.platform);var O={};const le={class:"admin has-text-centered"},se=w("Copiar lista de correos"),ce=W({emits:["loading"],setup(e,{emit:t}){const r=z(),{copy:f}=ie(),o=v([]),n=v([]),d=v("");t("loading"),r.clients().then(a=>{o.value=a}).finally(()=>{t("loading")}),r.subscribe_mails().then(a=>{n.value=a,d.value=a.map(p=>p.email).join(", ")});const u=a=>F(V(a),"dd/MM/yyyy HH:mm"),s=(a,p)=>{f(a.toString()),r.notification(p||`Se ha copiado al portapapeles: ${a}`,"link")};return(a,p)=>{const _=g("o-table-column"),m=Z,P=q,k=g("o-table"),N=g("o-tab-item"),T=g("o-button"),R=g("o-tabs");return b(),x("div",le,[l(R,null,{default:c(()=>[l(N,{value:"0",label:"Usuarios registrados"},{default:c(()=>[l(k,{data:o.value},{default:c(()=>[l(_,{field:"name",label:"Nombre",width:"300"},{default:c(i=>[w(y(i.row.name),1)]),_:1}),l(_,{field:"email",label:"Correo",width:"300"},{default:c(i=>[w(y(i.row.email),1)]),_:1}),l(_,{field:"course",label:"Curso",width:"300"},{default:c(i=>[w(y(i.row.course),1)]),_:1}),l(_,{field:"created",label:"Registro",width:"300"},{default:c(i=>[w(y(u(i.row.created)),1)]),_:1}),l(_,{field:"payed",label:"Pagado",width:"300",position:"centered"},{default:c(i=>[i.row.payed?(b(),E(m,{key:0,class:"has-text-success"})):(b(),E(P,{key:1}))]),_:1})]),_:1},8,["data"])]),_:1}),l(N,{value:"1",label:"Subscritos a la lista de mails"},{default:c(()=>[l(T,{"icon-right":"copy",onClick:p[0]||(p[0]=i=>s(d.value,"Se ha copiado  la lista de correos al portapapeles"))},{default:c(()=>[se]),_:1}),l(k,{data:n.value},{default:c(()=>[l(_,{field:"email",label:"Correo",width:"300"},{default:c(i=>[w(y(i.row.email),1)]),_:1}),l(_,{field:"copy",label:"Copiar",width:"300"},{default:c(i=>[l(T,{"icon-right":"copy",onClick:re=>s(i.row.email)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})])}}});typeof O=="function"&&O(ce);export{ce as default};

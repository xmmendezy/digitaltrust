import{o as v,c as x,h as C,k as h,u as $,a5 as Y,a6 as I,N as U,d as W,r as w,a as n,w as s,j as b,t as y,s as F,x as K,l as O}from"./vendor.92770e02.js";import{u as q}from"./index.fd7e8ecc.js";const G={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},J=C("path",{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44c-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z",fill:"currentColor"},null,-1),Q=[J];function X(t,e){return v(),x("svg",G,Q)}var Z={name:"fa-solid-envelope-open-text",render:X};const ee={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},te=C("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"},null,-1),oe=[te];function ne(t,e){return v(),x("svg",ee,oe)}var ae={name:"fa-solid-times",render:ne};const ie={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512"},le=C("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",fill:"currentColor"},null,-1),se=[le];function re(t,e){return v(),x("svg",ie,se)}var ce={name:"fa-solid-check",render:re};function B(t){return Y()?(I(t),!0):!1}const g=typeof window!="undefined",de=t=>typeof t=="string",L=()=>{};function ue(t,e,o={}){const{immediate:_=!0}=o,i=h(!1);let l=null;function d(){l&&(clearTimeout(l),l=null)}function u(){i.value=!1,d()}function c(...r){d(),i.value=!0,l=setTimeout(()=>{i.value=!1,l=null,t(...r)},$(e))}return _&&(i.value=!0,g&&c()),B(u),{isPending:i,start:c,stop:u}}const _e=g?window:void 0;g&&window.document;const pe=g?window.navigator:void 0;g&&window.location;function fe(...t){let e,o,_,i;if(de(t[0])?([o,_,i]=t,e=_e):[e,o,_,i]=t,!e)return L;let l=L;const d=U(()=>$(e),c=>{l(),!!c&&(c.addEventListener(o,_,i),l=()=>{c.removeEventListener(o,_,i),l=L})},{immediate:!0,flush:"post"}),u=()=>{d(),l()};return B(u),u}function me(t={}){const{navigator:e=pe,read:o=!1,source:_,copiedDuring:i=1500}=t,l=["copy","cut"],d=Boolean(e&&"clipboard"in e),u=h(""),c=h(!1),r=ue(()=>c.value=!1,i);function f(){e.clipboard.readText().then(m=>{u.value=m})}if(d&&o)for(const m of l)fe(m,f);async function p(m=$(_)){d&&m!=null&&(await e.clipboard.writeText(m),u.value=m,c.value=!0,r.start())}return{isSupported:d,text:u,copied:c,copy:p}}const k=typeof globalThis=="undefined"?void 0:globalThis,S="__vueuse_ssr_handlers__";k[S]=k[S]||{};k[S];var V,j;g&&(window==null?void 0:window.navigator)&&((V=window==null?void 0:window.navigator)==null?void 0:V.platform)&&/iP(ad|hone|od)/.test((j=window==null?void 0:window.navigator)==null?void 0:j.platform);var ve=Object.defineProperty,N=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,z=(t,e,o)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,be=(t,e)=>{for(var o in e||(e={}))he.call(e,o)&&z(t,o,e[o]);if(N)for(var o of N(e))we.call(e,o)&&z(t,o,e[o]);return t};const ge={top:0,left:0,bottom:0,right:0,height:0,width:0};be({text:""},ge);var D={};const ye={class:"admin has-text-centered"},xe=b("Copiar lista de correos"),Ce=W({emits:["loading"],setup(t,{emit:e}){const o=q(),{copy:_}=me(),i=h([]),l=h([]),d=h("");e("loading"),o.clients().then(r=>{i.value=r}).finally(()=>{e("loading")}),o.subscribe_mails().then(r=>{l.value=r,d.value=r.map(f=>f.email).join(", ")});const u=r=>F(K(r),"dd/MM/yyyy HH:mm"),c=(r,f)=>{_(r.toString()),o.notification(f||`Se ha copiado al portapapeles: ${r}`,"link")};return(r,f)=>{const p=w("o-table-column"),m=ce,E=ae,H=Z,R=w("router-link"),M=w("o-table"),P=w("o-tab-item"),T=w("o-button"),A=w("o-tabs");return v(),x("div",ye,[n(A,null,{default:s(()=>[n(P,{value:"0",label:"Usuarios registrados"},{default:s(()=>[n(M,{data:i.value},{default:s(()=>[n(p,{field:"name",label:"Nombre",width:"300"},{default:s(a=>[b(y(a.row.name),1)]),_:1}),n(p,{field:"email",label:"Correo",width:"300"},{default:s(a=>[b(y(a.row.email),1)]),_:1}),n(p,{field:"course",label:"Curso",width:"300"},{default:s(a=>[b(y(a.row.course),1)]),_:1}),n(p,{field:"created",label:"Registro",width:"300"},{default:s(a=>[b(y(u(a.row.created)),1)]),_:1}),n(p,{field:"payed",label:"Pagado",width:"300",position:"centered"},{default:s(a=>[a.row.payed?(v(),O(m,{key:0,class:"has-text-success"})):(v(),O(E,{key:1}))]),_:1}),n(p,{field:"message",label:"Mensajes",width:"300",position:"centered"},{default:s(a=>[n(R,{to:"/admin/message/"+a.row.id},{default:s(()=>[n(H)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"])]),_:1}),n(P,{value:"1",label:"Subscritos a la lista de mails"},{default:s(()=>[n(T,{"icon-right":"copy",onClick:f[0]||(f[0]=a=>c(d.value,"Se ha copiado  la lista de correos al portapapeles"))},{default:s(()=>[xe]),_:1}),n(M,{data:l.value},{default:s(()=>[n(p,{field:"email",label:"Correo",width:"300"},{default:s(a=>[b(y(a.row.email),1)]),_:1}),n(p,{field:"copy",label:"Copiar",width:"300"},{default:s(a=>[n(T,{"icon-right":"copy",onClick:$e=>c(a.row.email)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})])}}});typeof D=="function"&&D(Ce);export{Ce as default};
